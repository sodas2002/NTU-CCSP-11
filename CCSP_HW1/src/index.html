<!DOCTYPE HTML>
<html>
<head>
   	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   	<!-- Mobile Browsers -->
   	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0">
    <title>CCSP HW1</title>
    <!-- jQuery 1.5.1 from Google -->
    <!-- Google Font -->
    <link href='http://fonts.googleapis.com/css?family=Lato:300,regular,bold,900' rel='stylesheet' type='text/css'>
    <!-- Custom css/js -->
    <link href="/css/index.c.css" rel="stylesheet" type="text/css">
    <script src="/js/index.c.js" type="text/javascript"></script>
</head>
<body>
	<!-- A loading hint for AJAX -->
	<div id="loading">Loading...</div>
	<!-- Page title -->
	<header>CCSP HW1</header>
	<!-- head bar -->
	<div id="info">
		<!-- Following info comes from javascript -->
		<div id="weather"></div>
		<div id="date"></div>
		<div class="clear"></div>
	</div>
	<!-- Main Form -->
	<form action="/" method="post" id="content" onsubmit="return false;">
		<!-- Content field -->
		<textarea name="content" placeholder="Leave some message!"></textarea>
		<!-- Submit button -->
		<input type="submit" value="GO !">
		<!-- User information -->
		<span id="username">from {{ username }}</span><span id="userAction"><a href="{{ logout }}">logout</a></span>
	</form>	
	<!-- Main board -->
	<div id="board">
		{# Show message which is a Python datamodel. #}
		{# Messages is a list-like data structure in Python. #}
		{# Messages is generated by GAE data store fetch #}
		{# #}
		{# Use key of each data model as its html dom id #}
		{% for msg in messages %}
		<div class="post" id="post_{{ msg.key }}">
			<div class="postBody">{{ msg.content|escape }}</div>
			<div><span class="postAuthor">{{ msg.author }}</span><span class="postTime">{{ msg.date|twtz|date:"h:i A, D, d M. 'y" }}</span><span id="{{ msg.key }}" class="postDelete">erase</span></div>
		</div>
		{% endfor %}
	</div>
	<!-- Copyright -->
	<footer>Copyright &copy; 2011. Made by sodas. Powered by Google App Engine, and jQuery.</footer>
</body>
</html>